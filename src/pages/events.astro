---
import { Separator } from "@/components/ui/separator";
import MainPage from "../layouts/MainPage.astro"
import {getCollection} from "astro:content"

const presentations = (await getCollection('presentations')).sort((a, b) => a.data.presentationDate - b.data.presentationDate).filter(p => p.data.presentationDate > new Date())

---
<!--TODO: un-mess up dates of events -->
<MainPage title="Upcoming Events">
  <div class="mt-20 md:mt-44 md:px-20 md:w-6/12 container mx-auto flex flex-col gap-4 mb-9">
    <h2 class="">Upcoming Events</h2>

    <p class="text-sm">Future events that will held in club meetings</p>
    <Separator/>


    {presentations.map(p => 
      <div class="bg-primary-foreground p-5 shadow-sm border-[1px] rounded-lg flex flex-row items-center gap-7 md:hover:scale-[101%] transition-all group">
        <img src={p.data.image} class="md:w-32 w-16 inset-0"/>
        <div class="flex flex-col">
          <h3>{p.data.title}</h3>
          <p class="md:text-2xl mb-1">{p.data.presentationDate?.toDateString()}</p>
          <p class="md:text-lg text-xs block"><i>{p.data.description}</i></p>
        </div>
      </div>
    )}
  </div>
</MainPage>
